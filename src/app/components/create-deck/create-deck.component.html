<main style="display: flex; justify-content: space-between">
  <section style="width: 70%">
    <h2>Lista de Cartas</h2>

    <div
      style="display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem"
      cdkDropList
      [cdkDropListData]="cards$"
      [cdkDropListConnectedTo]="choosenCardsList"
      #cardsList="cdkDropList"
    >
      <ng-container *ngFor="let card of cards$">
        <div cdkDrag>
          <!-- <p>{{card.name}}</p> -->
          <img [src]="card.images.small" [alt]="card.name" width="200" />
        </div>
      </ng-container>
    </div>
  </section>

  <aside style="width: 30%">
    <h2>Create a deck</h2>

    <form [formGroup]="form">
      <button (click)="createDeck()">Save</button>

      <input type="text" formControlName="name" />

      <p>
        <button (click)="addPokemon()">Add Pokemon</button>
      </p>

      <div class="create-deck__choosen-cards" 
          cdkDropList 
          [cdkDropListData]="choosenCards" 
          #choosenCardsList="cdkDropList"
          (cdkDropListDropped)="drop($event)">
        @for (item of choosenCards; track item.card.name) {
          <div class="create-deck__choosen-card">
            <img [src]="item.card.images.small" [alt]="item.card.name" width="200" />
            <div class="create-deck__footer">
              <div class="create-deck__amount">{{item.amount}}</div>
            </div>
          </div>
        } 
      </div>
    </form>
  </aside>
</main>
